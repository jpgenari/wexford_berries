{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="overlay"></div>
    <div class="container">        
        <div class="row">
            <div class="col-12 col-md-6">
                <hr>
                <h2 class="logo-font mb-4">Content Management</h2>
                <h5 class="text-muted">Editing 'about us content'</h5>
                <hr>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-6">
                <form method="POST">
                    {% csrf_token %}
                    {{ form.media }}
                    {{ form|crispy }}
                    <div>
                        <a href="{% url 'about' %}" class="btn btn-outline-green rounded-0" aria-label="Cancels edit and return to about us page">Cancel</a>
                        <input type="submit" value="Submit" class="btn btn-green rounded-0">
                    </div>
                </form>
                <hr>
            </div>
        </div>
    </div>
{% endblock %}

{% block postloadjs %}
{{ block.super }}
<script src="{% static 'tinymce/tinymce.min.js' %}"></script>
<script>
    tinymce.init({
        forced_root_block : "",
        force_br_newlines : true,
        force_p_newlines : false,
        selector: 'textarea',
        height: 300,
        plugins: [
            'advlist autolink lists link image charmap print preview anchor',
            'searchreplace visualblocks code fullscreen',
            'insertdatetime media table paste code help wordcount'
        ],
        toolbar: 'undo redo | formatselect | ' +
            'bold italic backcolor | alignleft aligncenter ' +
            'alignright alignjustify | bullist numlist outdent indent | ' +
            'removeformat | help',
        content_css: '//www.tiny.cloud/css/codepen.min.css'
    });
</script>
{% endblock %}
